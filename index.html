<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Karirmu, Pilihanmu — Text Game</title>
  <meta name="description" content="Game naratif berbasis pilihan untuk eksplorasi karir." />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="site-header">
    <h1>Karirmu, Pilihanmu</h1>
    <p class="subtitle">Game naratif berbasis pilihan (mobile-friendly) dengan rekomendasi kecocokan karier di akhir.</p>
    <div id="controls" class="controls">
      <button id="btn-new">Mulai Baru</button>
      <button id="btn-continue" disabled>Lanjutkan</button>
      <button id="btn-restart" disabled>Restart</button>
      <button id="btn-export">Unduh Log</button>
      <button id="btn-help">Bantuan</button>
      <button id="btn-music">🎵 Musik: OFF</button>
      <button id="btn-sfx">🔊 SFX: ON</button>
      <button id="btn-tts">🗣️ Narator: OFF</button>
    </div>
    <div id="scoreboard" class="scoreboard" aria-live="polite">
      <div><span>Minat</span><strong id="sc-minat">0</strong></div>
      <div><span>Keseimbangan</span><strong id="sc-keseimbangan">0</strong></div>
      <div><span>Penghasilan</span><strong id="sc-penghasilan">0</strong></div>
      <div><span>Nilai Diri</span><strong id="sc-nilai">0</strong></div>
      <div><span>Kepuasan</span><strong id="sc-kepuasan">0</strong></div>
    </div>
  </header>

  <main class="container">
    <section id="scene" class="scene" aria-live="polite">
      <figure class="portrait">
        <img id="portrait-img" src="assets/characters/guru.svg" alt="Karakter" />
        <figcaption id="portrait-cap">Karakter</figcaption>
      </figure>
      <div class="scene-body">
        <div id="scene-id" class="scene-id" hidden></div>
        <div id="scene-text" class="scene-text"></div>
        <div id="random-event" class="random-event" hidden></div>
        <ul id="choices" class="choices" role="list"></ul>
      </div>
    </section>
    <section id="end-screen" class="end-screen" hidden>
      <h2>Refleksi Akhir</h2>
      <ul id="reflections"></ul>
      <div class="end-actions">
        <button id="btn-play-again">Main Lagi</button>
      </div>
    </section>
  </main>

  <!-- Bantuan -->
  <dialog id="dlg-help">
    <h3>Cara Bermain</h3>
    <ol>
      <li>Pilih jalur dan keputusan pada setiap tahap.</li>
      <li>Perhatikan 5 skor di atas.</li>
      <li>Peristiwa acak kadang muncul dan memengaruhi skor.</li>
      <li>Di <b>akhir permainan</b> muncul ringkasan skor dan <b>rekomendasi kecocokan karier</b>.</li>
    </ol>
    <p>Tips audio: beberapa peramban HP meminta <b>klik</b> sebelum musik/suara diputar. Gunakan tombol 🎵/🔊/🗣️.</p>
    <button id="btn-close-help">Tutup</button>
  </dialog>

  <!-- Ringkasan Akhir + Rekomendasi -->
  <dialog id="dlg-summary">
    <h3 id="sum-title">Ringkasan Akhir</h3>
    <p id="sum-subtitle">Skor akhir perjalananmu:</p>
    <div class="sum-table-wrap">
      <table class="sum-table" id="sum-table" aria-label="Ringkasan skor akhir">
        <thead><tr><th>Dimensi</th><th>Nilai</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>
    <section id="fit-section" class="fit-section">
      <h4>Rekomendasi Jalur</h4>
      <p class="fit-title" id="fit-title">—</p>
      <ul id="fit-reasons" class="fit-reasons"></ul>
      <small id="fit-note" class="fit-note">Catatan: rekomendasi dihitung dari keseimbangan skor, ambang minimal per jalur, dan pembobotan dimensi.</small>
    </section>
    <div class="sum-actions">
      <button id="btn-sum-replay">Main Lagi</button>
      <button id="btn-sum-finish">Selesai</button>
    </div>
  </dialog>

  <footer class="site-footer">
    <small>© 2025 — MVP edukasi. Rekomendasi berbasis aturan (rule‑based), dapat disesuaikan dosen/pakar.</small>
  </footer>

  <script src="game_data.js"></script>
  <script src="main.js"></script>
</body>
</html>
